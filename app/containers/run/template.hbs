{{#if model.selectLaunchConfig}}
  <h2>{{t 'newContainer.sidekick.title' service=model.service.displayName}}</h2>
  <h5>{{t 'newContainer.sidekick.detail' service=model.service.displayName}}</h5>

  <div>
    {{#catalog-box
      model=model.service.launchConfig
      showIcon=false
      showDescription=false
      as |section|
    }}
      {{#if (eq section 'header')}}
        <i class="icon icon-service icon-2x"/>
      {{else if (eq section 'body')}}
        <h5>{{model.service.name}}</h5>
        <p class="help-block">{{t 'newContainer.sidekick.primary'}}</p>
      {{else if (eq section 'footer')}}
        {{#link-to (query-params launchConfigIndex=-1) class="btn bg-primary"}}{{t 'action.upgrade'}}{{/link-to}}
      {{/if}}
    {{/catalog-box}}

    {{#each model.service.secondaryLaunchConfigs as |slc index|}}
      {{#catalog-box
        model=slc
        showIcon=false
        showDescription=false
        as |section|
      }}
        {{#if (eq section 'header')}}
          <i class="icon icon-container icon-2x"/>
        {{else if (eq section 'body')}}
          <h5>{{slc.name}}</h5>
          <p class="help-block">{{t 'newContainer.sidekick.sidekick'}}</p>
        {{else if (eq section 'footer')}}
          {{#link-to (query-params launchConfigIndex=index)kclass="btn bg-primary"}}{{t 'action.upgrade'}}{{/link-to}}
          <button class="btn bg-error" {{action "removeSidekick" index}}>{{t 'action.remove'}}</button>
        {{/if}}
      {{/catalog-box}}
    {{/each}}
  </div>
{{else}}
  {{container/new-edit
    isService=model.isService
    isUpgrade=model.isUpgrade
    service=model.service
    launchConfig=model.launchConfig
    launchConfigIndex=launchConfigIndex
    done=(action 'done')
    cancel=(action 'cancel')

    editing=false
    primaryResource=model.service
    primaryService=model.service
    allHosts=model.allHosts
  }}
{{/if}}
