{{#multi-container-stats model=model linkName=linkName emitMaps=true as |stats|}}
  {{#liquid-if (eq mode "small")}}
    {{#if stats.loading}}
      Connecting...
    {{else if stats.active}}
      {{spark-line
        data=stats.cpuTotal
        width=smallWidth height=smallHeight
        prefix="containersPage.table.sparkPrefixCpu"
        formatter="percent"
        gradient="cpu"
        minMax=100
      }}

      {{spark-line
        data=stats.memory
        width=smallWidth height=smallHeight
        prefix="containersPage.table.sparkPrefixCpu"
        formatter="mib"
        gradient="memory"
        maxDoubleInital=true
      }}

      {{spark-line
        data=stats.networkTotal
        width=smallWidth height=smallHeight
        prefix="containersPage.table.sparkPrefixCpu"
        formatter="kbps"
        gradient="network"
        minMax=100
      }}

      {{spark-line
        data=stats.storageTotal
        width=smallWidth height=smallHeight
        prefix="containersPage.table.sparkPrefixCpu"
        formatter="kbps"
        gradient="storage"
        minMax=100
      }}

      <button class="btn btn-sm bg-transparent" style="vertical-align: top" {{action "toggle"}}><i class="icon icon-plus-circle"></i></button>
    {{else}}
      Stats not available
    {{/if}}
  {{/liquid-if}}
  {{#if (eq mode "large")}}
    {{#ember-wormhole to=largeTargetId}}
      <div class="row">
        <div class="col span-6">
          {{graph-area data=stats.map opts=cpuOpts}}
        </div>
        <div class="col span-6">
          Memory
        </div>
      </div>
      <div class="row">
        <div class="col span-6">
          Network
        </div>
        <div class="col span-6">
          Storage
        </div>
      </div>
      <button class="btn btn-sm bg-transparent" style="vertical-align: top" {{action "toggle"}}><i class="icon icon-minus-circle"></i></button>
    {{/ember-wormhole}}
  {{/if}}
{{/multi-container-stats}}
