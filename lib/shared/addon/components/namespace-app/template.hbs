<div class="stack-info">
  <div class="catalog-icon">
    <img src="{{app.baseAssets}}assets/images/generic-catalog.svg" data-src={{model.catalogTemplate.links.icon}}/>
  </div>
  <div class="stack-info-row box">
    <div class="stack-info-top row">
      <div class="col span-6">
        {{!-- TODO --}}
        {{!--{{#link-to "stack" scope.currentProject.id model.id}}{{model.displayName}}{{/link-to}} --}}
        {{model.displayName}}
      </div>
      <div class="col span-6 text-right">
        {{badge-state model=model classNames="btn-xs"}}
        {{action-menu model=model classNames="inline-block"}}
      </div>
    </div>
    <hr>
    <div class="stack-info-bottom">
      <div class="multi-bar">
        {{progress-bar-multi
            labelKey="state"
            valueKey="count"
            values=model.serviceStates.byColor
            tooltipValues=model.serviceStates.byName
        }}
      </div>
      {{#if upgradeAvailable}}
        <button class="btn bg-warning" onclick={{action "doUpgrade"}}>
          {{#tooltip-element type="tooltip-basic" model=latestVersion tooltipTemplate='tooltip-static' aria-describedby="tooltip-base" tooltipFor="upgrade"}}
            {{model.externalIdInfo.version}}
            {{t (concat-str 'upgradeBtn.status.' status character='')}}
          {{/tooltip-element}}
        </button>
      {{else}}
        <button class="btn bg-transparent">
          {{t (concat-str 'upgradeBtn.status.' status character='')}}
        </button>
      {{/if}}

      {{!--
      {{#upgrade-btn model=model classNames="btn-sm" as |btn|}}
      {{#if btn.upgradeInfo.version}}
      {{btn.upgradeInfo.version}}
      {{t (concat-str 'upgradeBtn.status.' btn.upgradeStatus character='')}}
      {{else}}
      {{t (concat-str 'upgradeBtn.status.' btn.upgradeStatus character='')}}
      {{/if}}
      {{/upgrade-btn}}
      --}}
    </div>
  </div>
</div>
{{#if expanded}}
{{/if}}
