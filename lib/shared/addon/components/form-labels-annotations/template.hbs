{{#accordion-list-item
     title=(t 'formLabelsAnnotations.title')
     detail=(t detailKey appName=settings.appName)
     status=status
     statusClass=statusClass
     expandAll=expandAll
     expand=(action expandFn)
}}
  <div class="row">
    {{#if editing}}
    <div class="col span-6">
      <div class="clearfix">
        <label class="acc-label">{{t 'formUserLabels.title'}}</label>
      </div>
      {{#if userLabelArray.length}}
        <table class="table fixed no-lines js-label-table">
          <thead>
            <tr class="hidden-xs hidden-sm">
              <th>{{t 'formUserLabels.key.label'}}{{field-required}}</th>
              <th width="30">&nbsp;</th>
              <th>{{t 'formUserLabels.value.label'}}</th>
              <th width="40">&nbsp;</th>
            </tr>
          </thead>
          <tbody>
            {{#each userLabelArray as |label|}}
              <tr>
                <td data-title="key">
                  {{input-paste pasted="pastedLabels" class="form-control input-sm key js-label" type="text" value=label.key placeholder="formUserLabels.key.placeholder" disabled=(eq label.readonly true)}}
                </td>

                <td class="valign-top text-center">
                  {{#if editing}}
                    {{t 'formKeyValue.separator'}}
                  {{/if}}
                </td>

                <td data-title="label">
                  {{input class="form-control input-sm" type="text" value=label.value placeholder=(t 'formUserLabels.value.placeholder') disabled=(eq label.readonly true)}}
                </td>

                <td class="text-right">
                  <button class="btn bg-primary btn-sm" {{action "removeLabel" label}} disabled={{eq label.readonly true}}><i class="icon icon-minus"/><span class="sr-only">{{t 'generic.remove'}}</span></button>
                </td>
              </tr>
            {{/each}}
          </tbody>
        </table>
        <div class="protip mb-5">
          {{t 'formUserLabels.protip'}}
        </div>
      {{/if}}

      <button class="btn bg-link icon-btn" {{action "addUserLabel"}}>
        <span class="darken"><i class="icon icon-plus text-small"/></span>
        <span>{{t 'formUserLabels.addAction'}}</span>
      </button>

    </div>
    {{else}}
      {{#if model.canHaveLabels}}
        <div class="col span-12">
          <div class="clearfix">
            <label class="acc-label">{{t 'formUserLabels.title'}}</label>
          </div>
          {{#sortable-table
               classNames="grid fixed mb-0 sortable-table"
               bulkActions=false
               rowActions=false
               paging=false
               search=true
               sortBy=sortBy
               stickyHeader=false
               descending=descending
               headers=headers
               body=labelArray
               as |sortable kind label|
          }}
            {{#if (eq kind "row")}}
              <tr>
                {{#if showKind}}<td data-title="{{t 'labelsSection.kind'}}:"  >{{uc-first label.type}}</td>{{/if}}
                <td data-title="{{t 'labelsSection.key'}}:" class="force-wrap">{{label.key}}</td>
                <td data-title="{{t 'labelsSection.value'}}:" class="force-wrap">{{pretty-json value=label.value}}</td>
              </tr>
            {{else if (eq kind "norows")}}
              <tr>
                <td colspan="{{sortable.fullColspan}}" class="text-center text-muted pt-20 pb-20">{{t 'labelsSection.noData'}}</td>
              </tr>
            {{/if}}
          {{/sortable-table}}
        </div>
      {{/if}}
    {{/if}}
    <div class="col span-6">
      <div class="clearfix">
        <label class="acc-label">{{t 'formAnnotations.title'}}</label>
      </div>
      {{form-key-value
        editing=editing
        initialMap=model.annotations
        changed=(action (mut model.annotations))
        addActionLabel="formAnnotations.addActionLabel"
      }}
    </div>
  </div>
{{/accordion-list-item}}
